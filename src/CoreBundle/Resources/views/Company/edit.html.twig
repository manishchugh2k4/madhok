{% extends "CoreBundle::main-layout.html.twig" %}

{% block body %}
    <div id="content-wrapper">
        <div class="page-header">
            <div class="row">
                <h1 class="col-xs-12 col-sm-4 text-center text-left-sm"><i class="fa fa-edit page-header-icon"></i>&nbsp;&nbsp;Edit Company Details</h1>
                <div class="col-xs-12 col-sm-8"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                {% if errors is defined and errors|length>0 %}
                    <div class="alert alert-danger">
                        <button type="button" class="close" data-dismiss="alert">Ã—</button>
                        <strong>Oops!</strong><br> 
                        {% for error in errors %}
                            {{ error.message }}<br>
                        {% endfor %}
                    </div>
                {% endif %}

                <div class="row">
                    <div class="col-sm-12">
                        {{ form_start(edit_form, {attr: {id: 'editFrm', class: 'panel form-horizontal', novalidate: 'novalidate'}}) }}
                            <div class="panel-heading">
                                <span class="panel-title"><b>{{company.companyName}}</b></span>
                            </div>
                            <div class="panel-body">
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.active) }}:</label>
                                    <div class="col-sm-8">
                                        {{ form_widget(edit_form.active) }}&nbsp;&nbsp;
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.companyName) }}:</label>
                                    <div class="col-sm-6">
                                        {{ form_widget(edit_form.companyName) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.contactPerson) }}:</label>
                                    <div class="col-sm-6">
                                        {{ form_widget(edit_form.contactPerson) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.email) }}:</label>
                                    <div class="col-sm-6">
                                        {{ form_widget(edit_form.email) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.address) }}:</label>
                                    <div class="col-sm-6">
                                        {{ form_widget(edit_form.address) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.officeNo) }}:</label>
                                    <div class="col-sm-3">
                                        {{ form_widget(edit_form.officeNo) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.floorNo) }}:</label>
                                    <div class="col-sm-3">
                                        {{ form_widget(edit_form.floorNo) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.phone) }}:</label>
                                    <div class="col-sm-3">
                                        {{ form_widget(edit_form.phone) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.mobile) }}:</label>
                                    <div class="col-sm-3">
                                        {{ form_widget(edit_form.mobile) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.electricityPerUnit) }}:</label>
                                    <div class="col-sm-3">
                                        {{ form_widget(edit_form.electricityPerUnit) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.gstNo) }}:</label>
                                    <div class="col-sm-3">
                                        {{ form_widget(edit_form.gstNo) }}
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <label class="col-sm-4 control-label">{{ form_label(edit_form.igstApplies) }}:</label>
                                    <div class="col-sm-8">
                                        {{ form_widget(edit_form.igstApplies) }}&nbsp;&nbsp;
                                    </div>
                                </div>
                            </div>
                        {{ form_end(edit_form) }}
                        <div class="text-right">
                            <button class="confirmDel btn btn-danger fa fa-trash-o"></button>
                            <button class="submitFrm btn btn-primary">Update</button>
                            <button class="moveToList btn btn-default" id="{{ path('company_list') }}">Cancel</button>
                        </div><br><br>

                        {{ form_start(delete_form, {attr: {id: 'delFrm'}}) }}
                        {{ form_end(delete_form) }}
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- / #content-wrapper -->
{% endblock %}

{% block javascripts %}
    <script>
        $(document).ready(function(){
            $('.switcher').switcher({ theme: 'square' });
            $('.confirmDel').on('click', function(){
                if(confirm('Are you sure to remove?')) {
                    $('#delFrm').submit();
                }
            })
            $('.submitFrm').on('click', function(){
                $('#editFrm').submit();
            })
            $('.moveToList').on('click', function(){
                window.location.href = $(this).attr('id')
            })
            $('.switcher-state-off').html('No')
            $('.switcher-state-on').html('Yes')
        });
    </script>
{% endblock %}